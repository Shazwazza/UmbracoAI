@using Umbraco.Cms.Web.Common.PublishedModels
@inherits Umbraco.Cms.Web.Common.Views.UmbracoViewPage
@{
    // Get the home page (root of the site)
    var homePage = Model.Root();
    
    // Get current page for active state
    var currentPage = Model;
    
    // Get the blog collection page (child of home)
    var blogPage = homePage.Children.FirstOrDefault(x => x.ContentType.Alias == "blogCollection");
}

<nav class="site-nav">
    <div class="nav-container">
        <div class="nav-brand">
            <a href="@homePage.Url()" class="brand-link">
                <span class="brand-icon">ü§ñ</span>
                <span class="brand-text">AI Agent</span>
            </a>
        </div>
        
        <ul class="nav-menu">
            <li class="nav-item @(currentPage.Id == homePage.Id ? "active" : "")">
                <a href="@homePage.Url()" class="nav-link">
                    <span class="nav-icon">üè†</span>
                    <span class="nav-text">Home</span>
                </a>
            </li>
            
            @if (blogPage != null)
            {
                var isBlogActive = currentPage.Id == blogPage.Id || 
                                   currentPage.AncestorOrSelf(blogPage.Level)?.Id == blogPage.Id;
                <li class="nav-item @(isBlogActive ? "active" : "")">
                    <a href="@blogPage.Url()" class="nav-link">
                        <span class="nav-icon">üìù</span>
                        <span class="nav-text">Blog</span>
                    </a>
                </li>
            }
        </ul>
        
        <div class="nav-tagline">
            Built Live at US Festival 2025
        </div>
    </div>
</nav>